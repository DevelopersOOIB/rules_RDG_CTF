@import url("./all.css");

<h1 style="text-align: center">Правила и требования соревнований по информационной безопасности<br><nobr>Capture The Flag</nobr></h1>
<img src="./logo.svg" style="display: block; margin-left: auto; margin-right: auto; widht: 6em; height: 100px">
<img src="./logo_text.svg" style="display: block; margin-left: auto; margin-right: auto; margin-top: 10px; widht: 6em; height: 25px">

<h2> Описание игры</h2>

<span>
Каждая команда имеет свой сервер, на сервере располагаются сервисы. 
Сервис — это работающее по сети приложение, которое запущено на хосте и которым могут пользоваться люди. Сервисы спроектированы так, что в них пользователь может оставлять какую-то приватную информацию, будь то его пароль, приватные заметки, видео <b>"только для друзей"</b> или данные платежной карты. 
<br>
Кроме того, сервисы спроектированы так, что каждый из них содержит одну или несколько уязвимостей, позволяющих эту приватную информацию похитить. 
<br><br>
Набор сервисов у каждой команды одинаковый, уязвимости тоже; <br><b>если вы нашли уязвимость в своём сервисе, такая же уязвимость есть в этом сервисе у других команд!</b> 
<br><br>
<h4>Виртуальные пользователи</h4>
Раз в некоторое время ваш сервис используют виртуальные пользователи, созданные и направленные к вам организаторами соревнования. Эти пользователи пытаются использовать функционал вашего сервиса, в том числе оставляя там приватные данные. 
<br><br>
Эти данные — <b>это флаги</b>.
<br><br>
Они имеют общий формат, по которому их легко определить.
<br> 
Флаги хранятся на вашем сервисе и должны быть доступны пользователю, который их оставил, но не должны быть доступны другим пользователям.  
Если приватные данные <b>(читай — флаги)</b> ваших пользователей будут похищены с вашего сервиса злоумышленниками из команд-соперниц — <b>вы будете терять очки</b>.
<br><br>
Виртуальных пользователи, помимо прочего, проверяют функциональность вашего сервиса; если это почта, то они могут: 
 
Зарегистрироваться; 
Войти в почту; 
Отправить письмо; 
Прочитать пришедшие письма; 
Отметить письмо как спам (и больше не получать письма от этого собеседника). 
Если ваш сервис функционирует неправильно или не доступен вообще, то вы будете терять баллы. Ниже мы опишем это подробнее.
Правила и подсчёт очков 
Каждая команда получает одинаковый набор сервисов. 
Раз в раунд (определенный временной интервал, обычно уточняемый организаторами, если их спросить напрямую) сервис команды проверяется организаторами с помощью чекера. 
Чекер — это программа, которая эмулирует работу реальных пользователей сервиса. В его задачи входит: проверить функционал сервиса, проверить в сервисе наличие флагов (приватных данных), оставленных там ранее, положить в сервис новые флаги. 
Флаг, который кладёт чекер, подчиняется общему правилу — это приватная информация в сервисе, которая является обычной строкой и подходит под регулярное выражение [A-Z0-9]{31}= 
После проверки сервиса чекером команда получает один из четырех статусов: 
OK — сервис функционирует нормально. 
MUMBLE — часть функционала сервиса не работает (например, вы отключили поиск по картинке в поисковике и пользователь не может им воспользоваться). 
CORRUPT — невозможно получить данные пользователя (например, пользователь отправлял письмо, но теперь не может его найти в исходящих из-за атаки другой команды). 
DOWN — сервис не доступен по сети. 
Для каждого сервиса считается один из самых важных результатов вашей команды в игре: SLA — количество прошедших игровых раундов, которые сервис провёл со статусом OK / количество прошедших раундов вообще.
Пример: В игре прошло 20 раундов, команда получила 10 статусов OK, потом 2 статуса MUMBLE, 2 статуса CORRUPTED и 6 статусов ОК, тогда SLA по этому сервису будет равно (10 + 6) / 20 = 80% 
Следующий крайне важный параметр — это FP (flag points). 
Обычно, ваши FP изначально равны нулю (или какой-то другой одинаковой для всех константе). Если вы похищаете приватные данные пользователей (флаги) с сервисов других команд, после чего направляете эти флаги в проверяющую систему жюри, ваши FP растут, а FP команды, чьи флаги вы похитили, падают. Обычно, чем больше FP было у команды соперников, тем больше FP вы получите.
Подсчёт очков 
Расчет очков осуществляется по формуле SLA * FP. Например, если ваш сервис отработал на ОК в 80% случаев, и вы набрали 1000 очков, то ваш счёт по этому сервису = 800. 
Если в игре участвует не один сервис, а несколько (а чаще всего это именно так), то счет по всем сервисам суммируется.
Игровая сеть 
В самом начале организаторы объявляют, как будет осуществляться доступ к игровым серверам. 
Вам будет выдан ключ для подключения к серверу VPN. 
Файлы-конфигурации посылаются заранее (примерно за полчаса до старта соревнований) капитану через Telegram. 
Популярные VPN-клиенты с легкостью справятся с конфиг-файлами, которые вам отправят, но на всякий случай рекомендуем использовать tunnelblick для MacOS, Openvpn connect для Windows и стандартный клиент Openvpn для Linux. 
VPN-клиент перенесет вас в игровую сеть, в которой вам необходимо подключиться к вашему серверу. Адрес сервера у каждой команды в зависимости от полученной вами в VPN подсети находится по адресу: 10.20.Х.5 (в случае изменений организаторы сообщат отдельно).
Уязвимость 
Допустим, в исходном коде одного из сервисов вы нашли пароль от панели администратора. Это значит, что у всех остальных команд пароль от панели администратора точно такой же. 
Атака 
Для того чтобы атаковать вражескую команду, вам нужно знать её IP-адрес. В большинстве случаев организаторы выдают либо диапазон игровых IP-адресов, среди которых вы вольны выбрать в качестве жертвы любой, либо адреса видны напротив названий команд в scoreboard'е. 
Сдача флагов 
Если вы нашли флаг, вам необходимо сдать его в проверяющую систему и получить свои очки. Обычно проверяющая система располагается на сервере организаторов (его IP выдаётся в начале игры) и доступна по определенному порту (который тоже уточняют в начале игры). Если не сказано иное, проверяющая система ожидает от вас подключения на указанный порт по протоколу TCP (например, с помощью утилиты netcat или socket в питоне), после чего вы должны представиться проверяющей системе, отослав свой токен (он выдается в начале игры), а затем вы должны послать похищенные у других команд флаги. За каждый похищенный флаг проверяющая система наградит вас очками FP, о чём и сообщит.
Иногда проверяющая система откажет вам в очках по причине, в которой сразу и признается, это может быть: 
"Flag is your own" — флаг взят из вашего собственного сервиса 
"Flag is too old" — флаг был отправлен на сервис команды очень давно, и очки за него уже не дадут — ищите более свежие флаги. Обычно "время жизни" флага составляет от 2 до 10 раундов. Вы можете спросить организаторов про время жизни флага, они с радостью ответят. 
"Wrong flag" — флаг не существует. Вы могли опечататься, а может флаг был "подделан" командой, у которой вы его украли. 
Кстати, один флаг может быть сдан вами только однажды — никаких бесконечных очков!
Дальнейшая игра 
Вся дальнейшая игра заключается в том, чтобы находить новые уязвимости, которые еще не нашли остальные команды, писать автоматические эксплоиты и попытаться набрать больше всех FP в игре. Не забывайте защищаться от атак других команд — у вас не получится накопить много FP, если вас взламывают в ответ. 
Кроме того, будьте осторожны: некоторые уязвимости позволяют сделать ваш сервис недоступным, и вы можете начать терять SLA, что критически отразится на ценности ваших FP, ведь итоговый счёт — это произведение SLA на FP.
Глоссарий 
Если какие-то из терминов вам непонятны, то перечитайте страницу еще раз или напишите свой вопрос в чат. 
Vulnbox (игровая машина / уязвимый образ) — физическая / виртуальная машина, на которой находятся сервисы команды. 
Сервис — уязвимое приложение, работающее по сети, развёрнутое на vulnbox'e.  
Раунд — заданный временной промежуток, единица времени в игре. 
Чекер — программа, которую организаторы запускают каждый раунд для проверки работоспособности сервиса. Программа эмулирует действия пользователя в сервисе и оставляет флаги. 
Атака — успешное похищение флагов с сервиса команды-соперницы. 
Защита — устранение найденной уязвимости, после которого использовать её для атак становится невозможно. 
Флаг — строка, являющаяся частью приватных данных в сервисе. Обычно подходит под регулярное выражение [A-Z0-9]{31}=. 
SLA — доля прошедших игровых раундов со статусом OK для данного сервиса к общему количеству прошедших раундов. Обычно измеряется в процентах. 
FP (Flag Points) — численное значение, которое растет, когда вы крадете флаги и падает, когда их крадут у вас. 
 
Эксплойт — программа, которая автоматически занимается похищением флагов через найденную уязвимость. 
Scoreboard — приложение, отображающее текущее положение команд (турнирная таблица).
Краткая информация: 
1. Всем стоит заранее ознакомиться со структурой Scoreboard - https://github.com/pomo-mondreganto/ForcAD 
2. Каждому участнику необходимо иметь при себе ноутбук для участия в соревновании. Выдать свои ноутбуки, к сожалению, не представляется возможным. 
3. У ноутбуков должен иметься разъем под кабель Ethernet, в случае его отсутствия просим заранее озадачиться покупкой переходника на USB разъем. (пример: https://www.dns-shop.ru/product/5b67b03ee96f3361/setevaa-karta-5bites-ua2-45-02bk/) 
4. Розеток для подключения ноутбуков к питанию будет достаточно, в случае необходимости подключения в розетки чего-либо другого просим взять с собой 1 сетевой фильтр на команду. 
5. На столах будут стоять названия ваших команд, просьба проходить за столы вашей команды. 
6. Соревнование будет проходить в Корпусе В зале «Средний». (после входа в корпус идете налево, проходите под эскалатором, идете прямо до эскалаторов, идущих вниз, не спускаясь слева находится зал). 
Правила: 
Есть только три ключевых пункта, применимых для соревнований:  
1. Нельзя атаковать системы организаторов. 
2. Нельзя экранировать трафик от других команд. 
3. Нельзя генерировать чрезмерный объем трафика, способный навредить инфраструктуре. 
 
В случае нарушения данных правил хотя бы одним членом команды, вся команда будет дисквалифицирована с соревнований.
</span><h1 style="text-align: center">Правила и требования соревнований по информационной безопасности<br><nobr>Capture The Flag</nobr></h1>
<img src="./logo.svg" style="display: block; margin-left: auto; margin-right: auto; widht: 6em; height: 100px">
<img src="./logo_text.svg" style="display: block; margin-left: auto; margin-right: auto; margin-top: 10px; widht: 6em; height: 25px">

<h1><code>::selection</code></h1>

<p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Ab ea libero recusandae error esse at eaque, cumque maxime
    in officia architecto labore temporibus. Fugiat deserunt dignissimos ullam harum aut quod.</p>

<blockquote>
    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Vitae impedit nisi ullam animi accusantium.</p>
</blockquote>

<style>
    :root {
        --color-primary: hsl(310, 100%, 65%);
        --color-secondary: hsl(160, 100%, 65%);
        --background: hsl(230, 30%, 15%);
        --text: hsl(310, 100%, 95%);
    }

    ::selection {
        background-color: var(--color-primary);
        color: var(--background);
        -webkit-text-fill-color: var(--background);
    }

    * {
        box-sizing: border-box;
    }

    body {
        display: grid;
        place-content: center;
        gap: 4vh;
        min-height: 100vh;
        width: min(60ch, 100vw - 2rem);
        margin-right: auto;
        margin-left: auto;
        font-size: 1.5rem;
        line-height: 1.5;
        background-color: var(--background);
        color: var(--text);
    }

    h1 {
        color: var(--color-primary);
    }

    blockquote {
        border-left: 5px solid;
        margin-left: 0;
        padding: 1rem 0 1rem 2rem;
        font-size: 2rem;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-image: linear-gradient(35deg,
                var(--color-primary),
                var(--color-secondary));

     
    }
    p {
            margin: 0;
        }
</style>


<h2> Описание игры</h2>

<span style="text-align: justify;">
Каждая команда имеет свой сервер, на сервере располагаются сервисы. 
Сервис — это работающее по сети приложение, которое запущено на хосте и которым могут пользоваться люди. Сервисы спроектированы так, что в них пользователь может оставлять какую-то приватную информацию, будь то его пароль, приватные заметки, видео <b>"только для друзей"</b> или данные платежной карты. 
<br>
Кроме того, сервисы спроектированы так, что каждый из них содержит одну или несколько уязвимостей, позволяющих эту приватную информацию похитить. 
<br><br>
Набор сервисов у каждой команды одинаковый, уязвимости тоже; <br><b>если вы нашли уязвимость в своём сервисе, такая же уязвимость есть в этом сервисе у других команд!</b> 
<br><br>
<h4>Виртуальные пользователи</h4>
Раз в некоторое время ваш сервис используют виртуальные пользователи, созданные и направленные к вам организаторами соревнования. Эти пользователи пытаются использовать функционал вашего сервиса, в том числе оставляя там приватные данные. 
<br><br>
Эти данные — <b>это флаги</b>.
<br><br>
Они имеют общий формат, по которому их легко определить.
<br> 
Флаги хранятся на вашем сервисе и должны быть доступны пользователю, который их оставил, но не должны быть доступны другим пользователям.  
Если приватные данные <b>(читай — флаги)</b> ваших пользователей будут похищены с вашего сервиса злоумышленниками из команд-соперниц — <b>вы будете терять очки</b>.
<br><br>
Виртуальных пользователи, помимо прочего, проверяют функциональность вашего сервиса; если это почта, то они могут: 
 
Зарегистрироваться; 
Войти в почту; 
Отправить письмо; 
Прочитать пришедшие письма; 
Отметить письмо как спам (и больше не получать письма от этого собеседника). 
Если ваш сервис функционирует неправильно или не доступен вообще, то вы будете терять баллы. Ниже мы опишем это подробнее.
Правила и подсчёт очков 
Каждая команда получает одинаковый набор сервисов. 
Раз в раунд (определенный временной интервал, обычно уточняемый организаторами, если их спросить напрямую) сервис команды проверяется организаторами с помощью чекера. 
Чекер — это программа, которая эмулирует работу реальных пользователей сервиса. В его задачи входит: проверить функционал сервиса, проверить в сервисе наличие флагов (приватных данных), оставленных там ранее, положить в сервис новые флаги. 
Флаг, который кладёт чекер, подчиняется общему правилу — это приватная информация в сервисе, которая является обычной строкой и подходит под регулярное выражение [A-Z0-9]{31}= 
После проверки сервиса чекером команда получает один из четырех статусов: 
OK — сервис функционирует нормально. 
MUMBLE — часть функционала сервиса не работает (например, вы отключили поиск по картинке в поисковике и пользователь не может им воспользоваться). 
CORRUPT — невозможно получить данные пользователя (например, пользователь отправлял письмо, но теперь не может его найти в исходящих из-за атаки другой команды). 
DOWN — сервис не доступен по сети. 
Для каждого сервиса считается один из самых важных результатов вашей команды в игре: SLA — количество прошедших игровых раундов, которые сервис провёл со статусом OK / количество прошедших раундов вообще.
Пример: В игре прошло 20 раундов, команда получила 10 статусов OK, потом 2 статуса MUMBLE, 2 статуса CORRUPTED и 6 статусов ОК, тогда SLA по этому сервису будет равно (10 + 6) / 20 = 80% 
Следующий крайне важный параметр — это FP (flag points). 
Обычно, ваши FP изначально равны нулю (или какой-то другой одинаковой для всех константе). Если вы похищаете приватные данные пользователей (флаги) с сервисов других команд, после чего направляете эти флаги в проверяющую систему жюри, ваши FP растут, а FP команды, чьи флаги вы похитили, падают. Обычно, чем больше FP было у команды соперников, тем больше FP вы получите.
Подсчёт очков 
Расчет очков осуществляется по формуле SLA * FP. Например, если ваш сервис отработал на ОК в 80% случаев, и вы набрали 1000 очков, то ваш счёт по этому сервису = 800. 
Если в игре участвует не один сервис, а несколько (а чаще всего это именно так), то счет по всем сервисам суммируется.
Игровая сеть 
В самом начале организаторы объявляют, как будет осуществляться доступ к игровым серверам. 
Вам будет выдан ключ для подключения к серверу VPN. 
Файлы-конфигурации посылаются заранее (примерно за полчаса до старта соревнований) капитану через Telegram. 
Популярные VPN-клиенты с легкостью справятся с конфиг-файлами, которые вам отправят, но на всякий случай рекомендуем использовать tunnelblick для MacOS, Openvpn connect для Windows и стандартный клиент Openvpn для Linux. 
VPN-клиент перенесет вас в игровую сеть, в которой вам необходимо подключиться к вашему серверу. Адрес сервера у каждой команды в зависимости от полученной вами в VPN подсети находится по адресу: 10.20.Х.5 (в случае изменений организаторы сообщат отдельно).
Уязвимость 
Допустим, в исходном коде одного из сервисов вы нашли пароль от панели администратора. Это значит, что у всех остальных команд пароль от панели администратора точно такой же. 
Атака 
Для того чтобы атаковать вражескую команду, вам нужно знать её IP-адрес. В большинстве случаев организаторы выдают либо диапазон игровых IP-адресов, среди которых вы вольны выбрать в качестве жертвы любой, либо адреса видны напротив названий команд в scoreboard'е. 
Сдача флагов 
Если вы нашли флаг, вам необходимо сдать его в проверяющую систему и получить свои очки. Обычно проверяющая система располагается на сервере организаторов (его IP выдаётся в начале игры) и доступна по определенному порту (который тоже уточняют в начале игры). Если не сказано иное, проверяющая система ожидает от вас подключения на указанный порт по протоколу TCP (например, с помощью утилиты netcat или socket в питоне), после чего вы должны представиться проверяющей системе, отослав свой токен (он выдается в начале игры), а затем вы должны послать похищенные у других команд флаги. За каждый похищенный флаг проверяющая система наградит вас очками FP, о чём и сообщит.
Иногда проверяющая система откажет вам в очках по причине, в которой сразу и признается, это может быть: 
"Flag is your own" — флаг взят из вашего собственного сервиса 
"Flag is too old" — флаг был отправлен на сервис команды очень давно, и очки за него уже не дадут — ищите более свежие флаги. Обычно "время жизни" флага составляет от 2 до 10 раундов. Вы можете спросить организаторов про время жизни флага, они с радостью ответят. 
"Wrong flag" — флаг не существует. Вы могли опечататься, а может флаг был "подделан" командой, у которой вы его украли. 
Кстати, один флаг может быть сдан вами только однажды — никаких бесконечных очков!
Дальнейшая игра 
Вся дальнейшая игра заключается в том, чтобы находить новые уязвимости, которые еще не нашли остальные команды, писать автоматические эксплоиты и попытаться набрать больше всех FP в игре. Не забывайте защищаться от атак других команд — у вас не получится накопить много FP, если вас взламывают в ответ. 
Кроме того, будьте осторожны: некоторые уязвимости позволяют сделать ваш сервис недоступным, и вы можете начать терять SLA, что критически отразится на ценности ваших FP, ведь итоговый счёт — это произведение SLA на FP.
Глоссарий 
Если какие-то из терминов вам непонятны, то перечитайте страницу еще раз или напишите свой вопрос в чат. 
Vulnbox (игровая машина / уязвимый образ) — физическая / виртуальная машина, на которой находятся сервисы команды. 
Сервис — уязвимое приложение, работающее по сети, развёрнутое на vulnbox'e.  
Раунд — заданный временной промежуток, единица времени в игре. 
Чекер — программа, которую организаторы запускают каждый раунд для проверки работоспособности сервиса. Программа эмулирует действия пользователя в сервисе и оставляет флаги. 
Атака — успешное похищение флагов с сервиса команды-соперницы. 
Защита — устранение найденной уязвимости, после которого использовать её для атак становится невозможно. 
Флаг — строка, являющаяся частью приватных данных в сервисе. Обычно подходит под регулярное выражение [A-Z0-9]{31}=. 
SLA — доля прошедших игровых раундов со статусом OK для данного сервиса к общему количеству прошедших раундов. Обычно измеряется в процентах. 
FP (Flag Points) — численное значение, которое растет, когда вы крадете флаги и падает, когда их крадут у вас. 
 
Эксплойт — программа, которая автоматически занимается похищением флагов через найденную уязвимость. 
Scoreboard — приложение, отображающее текущее положение команд (турнирная таблица).
Краткая информация: 
1. Всем стоит заранее ознакомиться со структурой Scoreboard - https://github.com/pomo-mondreganto/ForcAD 
2. Каждому участнику необходимо иметь при себе ноутбук для участия в соревновании. Выдать свои ноутбуки, к сожалению, не представляется возможным. 
3. У ноутбуков должен иметься разъем под кабель Ethernet, в случае его отсутствия просим заранее озадачиться покупкой переходника на USB разъем. (пример: https://www.dns-shop.ru/product/5b67b03ee96f3361/setevaa-karta-5bites-ua2-45-02bk/) 
4. Розеток для подключения ноутбуков к питанию будет достаточно, в случае необходимости подключения в розетки чего-либо другого просим взять с собой 1 сетевой фильтр на команду. 
5. На столах будут стоять названия ваших команд, просьба проходить за столы вашей команды. 
6. Соревнование будет проходить в Корпусе В зале «Средний». (после входа в корпус идете налево, проходите под эскалатором, идете прямо до эскалаторов, идущих вниз, не спускаясь слева находится зал). 
Правила: 
Есть только три ключевых пункта, применимых для соревнований:  
1. Нельзя атаковать системы организаторов. 
2. Нельзя экранировать трафик от других команд. 
3. Нельзя генерировать чрезмерный объем трафика, способный навредить инфраструктуре. 
 
В случае нарушения данных правил хотя бы одним членом команды, вся команда будет дисквалифицирована с соревнований.
</span>
